<oj-sp-welcome-page id="oj-sp-wp1" illustration-background="[[ require.toUrl($page.variables.illustrationBackground) ]]"
  illustration-foreground="[[ require.toUrl($page.variables.illustrationForeground) ]]"
  display-options.responsive-padding="on" page-title="Time Entry - Combination Method" background-color="dark-pebble">
  <div class="oj-panel" style="margin-top:-48px">
    <oj-popup id="actionpopup">
      <oj-form-layout label-edge="top" columns="1">

        <oj-button label="Default" chroming="callToAction" class="oj-button-sm"
          on-oj-action="[[$listeners.buttonAction15]]">
          <span class="oj-ux-ico-assign-variables" slot="endIcon"></span>
        </oj-button>
        <oj-button label="Save" chroming="callToAction" class="oj-button-sm"
          on-oj-action="[[$listeners.buttonAction16]]">
          <span class="oj-ux-ico-save" slot="endIcon"></span>
        </oj-button>
        <!-- <oj-button label="Delete Combination" chroming="danger" class="oj-button-sm">
  <span class="oj-ux-ico-trash" slot="endIcon"></span>
        </oj-button> -->
      </oj-form-layout>
    </oj-popup>
    <oj-validation-group id="combinationValidation">
      <oj-form-layout max-columns="4" label-edge="top" columns="4">
        <oj-select-single label-hint="Crew Name" value="{{ $variables.headerobj.crewname }}"
          data="[[$variables.getGetCustomerDetailsListSDP]]" item-text="crew_name"
          on-value-item-changed="[[$listeners.selectValueItem]]" required="true"></oj-select-single>
        <oj-input-date label-hint="Crew Date" value="{{ $variables.headerobj.crewDate }}" required="true">
        </oj-input-date>
        <div>

          <oj-button label="Search" style="margin-top:20px" chroming="callToAction" class="oj-button-sm"
            on-oj-action="[[$listeners.buttonAction]]">
            <span class="oj-ux-ico-search" slot="startIcon"></span>
          </oj-button>
          <oj-button label="Reset" style="margin-top:20px" chroming="callToAction" class="oj-button-sm"
            on-oj-action="[[$listeners.buttonAction2]]">
            <span class="oj-ux-ico-reset-variable" slot="startIcon"></span>
          </oj-button>
          <oj-button label="Submit" style="margin-top:20px" chroming="callToAction" class="oj-button-sm"
            on-oj-action="[[$listeners.buttonAction8]]" disabled="[[ $variables.selectedData.length === 0 ]]">
            <span class="oj-ux-ico-save" slot="startIcon"></span>
          </oj-button>

        </div>
      </oj-form-layout>
    </oj-validation-group>
    <div class="oj-flex">
      <div class="oj-flex-item oj-sm-9 oj-md-9">
        <h6>Combination Definitions</h6>
      </div>
      <div class="oj-flex-item oj-sm-3 oj-md-3">
        <!-- <oj-button label="Save" id="save-combination" style="margin-left: 25%;">
          <span class="oj-ux-ico-save" slot="startIcon"></span>
        </oj-button> -->
        <oj-button label="Add Combination" id="add-combination" style="float : right;"
          on-oj-action="[[$listeners.addCombinationAction]]" disabled="[[ !$variables.headerobj.crewname ]]"
          chroming="callToAction" class="oj-button-sm">
          <span class="oj-ux-ico-plus" slot="startIcon"></span>
        </oj-button>
      </div>
      <oj-table scroll-policy="loadMoreOnScroll" data="[[ $variables.combinationsTableADP ]]" style="width:94vw"
        columns-default.resizable="enabled"
        columns='[{"headerText":"Actions","field":"","template":"Actions"},{"headerText":"Combination Name","field":"combination_name","template":"CombinationName","width":180,"frozenEdge":"all"},{"headerText":"Project","field":"project_name","template":"ProjectName","width":150},{"headerText":"Task","field":"task_name","template":"TaskName","width":120},{"headerText":"Shift","field":"shift","template":"Shift","width":130},{"headerText":"Location/Tax Jurisdiction","field":"emp_location","template":"Location"},{"headerText":"Work Package","field":"work_package","template":"WorkPackage"},{"headerText":"Department","field":"department","template":"Department"},{"headerText":"Cost Category","field":"cost_center","template":"CostCategory"},{"headerText":"Time Type","field":"time_type","template":"TimeType"},{"headerText":"Hours","field":"hours","template":"hours"},{"headerText":"Start Date","field":"start_date","template":"start_date"},{"headerText":"End Date","field":"end_date","template":"end_date"}]'
        on-oj-before-row-edit="[[$listeners.tableBeforeRowEdit]]" edit-mode="rowEdit"
        on-oj-before-row-edit-end="[[$listeners.tableBeforeRowEditEnd]]" display="grid">

        <template slot="CombinationName">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
            <!-- <oj-bind-if test='[[$variables.combinationsCurrentRowObj.isNew === "Y" ]]'>
            <div style="background-color : lightblue;"> 
              <oj-bind-text value="[[$current.data]]"></oj-bind-text>
            </div>
          </oj-bind-if>
          <oj-bind-if test='[[$variables.combinationsCurrentRowObj.isNew === undefined ]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if> -->
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.combinationsCurrentRowObj.combination_name }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="ProjectName">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-select-single value="{{ $variables.combinationsCurrentRowObj.project_name }}"
              on-value-item-changed="[[$listeners.selectValueItem2]]" label-hint=" "
              data="[[$variables.getCrewRiteProjectSearch2ListSDP3]]" item-text="project_name"></oj-select-single>
          </oj-bind-if>
        </template>
        <template slot="TaskName">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-select-single label-hint=" " value="{{ $variables.combinationsCurrentRowObj.task_name }}"
              data="[[ $variables.tasksProjectSDP ]]" item-text="TaskName"
              on-value-item-changed="[[$listeners.selectValueItem4]]">
            </oj-select-single>
          </oj-bind-if>
        </template>
        <template slot="Shift">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.combinationsCurrentRowObj.shift }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="WorkPackage">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.combinationsCurrentRowObj.work_package }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="Location">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.combinationsCurrentRowObj.emp_location }}">
            </oj-input-text>
            <!-- <oj-select-single label-hint="Location"
              value="{{ $variables.combinationsCurrentRowObj.location_tax_jurisdiction }}"
              data="[[$variables.getGetCustomerDetailsListSDP]]" item-text="crew_name"></oj-select-single> -->
          </oj-bind-if>
        </template>
        <template slot="TimeType">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <!-- <oj-input-text value="{{ $variables.combinationsCurrentRowObj.time_type }}">
            </oj-input-text> -->
            <oj-select-single value="{{ $variables.combinationsCurrentRowObj.time_type }}" item-text="time_type_name"
              data="[[ $variables.getCombinationTimeTypeSDP ]]" label-hint=" "></oj-select-single>
          </oj-bind-if>
        </template>
        <template slot="Department">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <!-- <oj-input-text value="{{ $variables.combinationsCurrentRowObj.department }}">
            </oj-input-text> -->
            <oj-select-single value="{{ $variables.combinationsCurrentRowObj.department }}" item-text="department"
              data="[[ $variables.getCombinationDepartmentSDP ]]" label-hint=" "></oj-select-single>
          </oj-bind-if>
        </template>
        <template slot="Phase">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <!-- <oj-input-text value="{{ $variables.combinationsCurrentRowObj.phase }}">
          </oj-input-text> -->
          </oj-bind-if>
        </template>
        <template slot="CostCategory">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.combinationsCurrentRowObj.cost_center }}">
            </oj-input-text>
          </oj-bind-if>
        </template>

        <!-- <template slot="end_date">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[ $functions.formatDate($current.data) ]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-date value="{{ $variables.combinationsCurrentRowObj.end_date }}">
            </oj-input-date>
          </oj-bind-if>
        </template> -->

        <template slot="end_date">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[ $functions.formatDate($current.data) ]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-date value="{{ $variables.combinationsCurrentRowObj.end_date }}">
            </oj-input-date>
          </oj-bind-if>
        </template>

        <template slot="start_date">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[ $functions.formatDate($current.data) ]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-date value="{{ $variables.combinationsCurrentRowObj.start_date }}">
            </oj-input-date>
          </oj-bind-if>
        </template>

        <template slot="hours">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.combinationsCurrentRowObj.hours }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="Actions">
          <!-- <span class="oj-ux-ico-save" style="font-size:20px;" on-click="[[$listeners.iconClick2]]"></span> -->
          <!-- <span class="oj-ux-ico-trash" style="font-size:20px;margin-left: 20px;" on-click="[[$listeners.iconClick]]"></span> -->
          <!-- <oj-button class="oj-button-sm" chroming="borderless" on-oj-action="[[$listeners.buttonAction14]]"> -->
          <oj-button chroming="borderless" class="oj-button-sm" display="icons" style="height : 25px;">
            <span class="oj-ux-ico-action" style="font-size:20px;margin-left: 20px;"
              on-click="[[$listeners.iconClick4]]" ></span>
          </oj-button>
          <!-- </oj-button> -->
        </template>
      </oj-table>
    </div>

    <div class="oj-flex" style="margin-top : 15px;">
      <div class="oj-flex-item oj-sm-10 oj-md-10">
        <h6>Time Entries</h6>
      </div>
      <div class="oj-flex-item oj-sm-2 oj-md-2">
        <oj-button label="+ Add Entry" style="float: right;" disabled="[[ !$variables.headerobj.crewname ]]"
          on-oj-action="[[$listeners.addEmployeeEntryAction]]" chroming="callToAction" class="oj-button-sm"></oj-button>
      </div>
      <oj-table scroll-policy="loadMoreOnScroll" data="[[ $variables.mainTimeEntriesTableADP ]]"
        style="width:94vw;height:400px" columns-default.resizable="enabled"
        columns='[{"headerText":"Actions","field":"","template":"Actions"},{"headerText":"Resource Name","field":"resource_name","template":"resourceTemplate","width":180,"frozenEdge":"all"},{"headerText":"Emp Number","field":"resource_number"},{"headerText":"Job","field":"resource_role"},{"headerText":"Combination Name","field":"combination_name","template":"CombinationName","width":180,"frozenEdge":"all"},{"headerText":"Project","field":"project_name","template":"ProjectName"},{"headerText":"Task","field":"task_name","template":"TaskName"},{"headerText":"Shift","field":"shift","template":"Shift"},{"headerText":"Location/Tax Jurisdiction","field":"emp_location","template":"location"},{"headerText":"Work Package","field":"work_package","template":"workpackage"},{"headerText":"Department","field":"department","template":"Department"},{"headerText":"Cost Category","field":"cost_center","template":"costcategory"},{"headerText":"Craft Override","field":"craft_override","template":"craft_override"},{"headerText":"Time Type","field":"time_type","template":"TimeType"},{"headerText":"Hours","field":"total_hours","template":"hours"},{"headerText":"Mileage","field":"milage","template":"Mileage"},{"headerText":"Per Diem","field":"per_diem_amount","template":"perDiemAmount"},{"headerText":"Mobilization","template":"Mobilation","field":"mobilization"},{"headerText":"Demobilization","field":"demobilization","template":"Demobization"}]'
        selection-mode.row="multiple" on-oj-before-row-edit="[[$listeners.tableBeforeRowEdit2]]"
        on-oj-before-row-edit-end="[[$listeners.tableBeforeRowEditEnd2]]" display="grid"
        on-selected-changed="[[$listeners.tableSelected2]]" id="time-entries-table">
        <template slot="CombinationName">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <!-- <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.combination_name }}">
              value="{{ $variables.timeEntriesCurrentRowObj.combination_name }}" 
            </oj-input-text> -->
            <oj-select-single label-hint=" " value="{{ $variables.timeEntriesCurrentRowObj.combination_name }}"
              data="[[ $variables.combinationLOV ]]" item-text="combination_name"
              on-value-item-changed="[[$listeners.selectValueItem3]]"></oj-select-single>
          </oj-bind-if>
        </template>
        <template slot="resourceTemplate">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.isNew ==="Y"]]'>
              <oj-select-single label-hint=" " value="{{ $variables.timeEntriesCurrentRowObj.resource_name }}"
                data="[[ $variables.resourceLOVADP ]]" item-text="resource_name"
                on-value-item-changed="[[$listeners.selectValueItem5]]"></oj-select-single>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.isNew !=="Y"]]'>
              <oj-bind-text value="[[$current.data]]"></oj-bind-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="TimeType">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-select-single value="{{ $variables.timeEntriesCurrentRowObj.time_type }}" item-text="time_type_name"
                data="[[ $variables.getCombinationTimeTypeSDP ]]" label-hint=" "></oj-select-single>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.time_type }}" readonly="true"
                disabled="true"></oj-input-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="Department">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-select-single value="{{ $variables.timeEntriesCurrentRowObj.department }}" item-text="department"
                data="[[ $variables.getCombinationDepartmentSDP ]]" label-hint=" "></oj-select-single>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.department }}" readonly="true"
                disabled="true"></oj-input-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="Shift">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.shift }}"></oj-input-text>
            <!-- <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.shift }}"></oj-input-text>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.shift }}" readonly="true" disabled="true">
              </oj-input-text>
            </oj-bind-if> -->
          </oj-bind-if>
        </template>
        <template slot="craft_override">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.craft_override }}"></oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="location">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.emp_location }}"></oj-input-text>
            <!-- <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.emp_location }}"></oj-input-text>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.emp_location }}" readonly="true" disabled="true">
              </oj-input-text>
            </oj-bind-if> -->
          </oj-bind-if>
        </template>
        <template slot="workpackage">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.work_package }}"></oj-input-text>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.work_package }}" readonly="true"
                disabled="true">
              </oj-input-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="costcategory">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.cost_center }}"></oj-input-text>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.cost_center }}" readonly="true"
                disabled="true">
              </oj-input-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="ProjectName">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <!-- <oj-select-single value="{{ $variables.timeEntriesCurrentRowObj.project }}" item-text="ProjectName"
                data="[[ $variables.projectsLOV ]]" label-hint=" "
                on-value-item-changed="[[$listeners.selectValueItem6]]"></oj-select-single> -->
              <oj-select-single value="{{ $variables.timeEntriesCurrentRowObj.project_name }}"
                on-value-item-changed="[[$listeners.selectValueItem6]]" label-hint=" "
                data="[[$variables.getCrewRiteProjectSearch2ListSDP4]]" item-text="project_name"></oj-select-single>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.project_name }}" readonly="true"
                disabled="true">
              </oj-input-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="TaskName">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name ==="Custom"]]'>
              <oj-select-single label-hint=" " value="{{ $variables.timeEntriesCurrentRowObj.task_name }}"
                data="[[ $variables.tasksProjectSDP ]]" item-text="TaskName"
                on-value-item-changed="[[$listeners.selectValueItem7]]">
              </oj-select-single>
            </oj-bind-if>
            <oj-bind-if test='[[$variables.timeEntriesCurrentRowObj.combination_name !=="Custom"]]'>
              <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.task_name }}" readonly="true"
                disabled="true"></oj-input-text>
            </oj-bind-if>
          </oj-bind-if>
        </template>
        <template slot="hours">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.total_hours }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="Mileage">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.milage }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="perDiemAmount">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.per_diem_amount }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="Mobilation">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.mobilization }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="Demobization">
          <oj-bind-if test='[[$current.mode ==="navigation"]]'>
            <oj-bind-text value="[[$current.data]]"></oj-bind-text>
          </oj-bind-if>
          <oj-bind-if test='[[$current.mode ==="edit"]]'>
            <oj-input-text value="{{ $variables.timeEntriesCurrentRowObj.demobilization }}">
            </oj-input-text>
          </oj-bind-if>
        </template>
        <template slot="Actions">
          <!-- <span class="oj-ux-ico-edit" style="font-size:20px;"></span> -->
          <!-- <span class="oj-ux-ico-trash" style="font-size:20px;margin-left: 20px;"
              on-click="[[$listeners.iconClick3]]"></span> -->
          <oj-button display="icons" class="oj-button-sm" style="height : 25px;" chroming="borderless"
            on-oj-action="[[$listeners.buttonAction17]]">
            <span class="oj-ux-ico-edit"  style="height : 25px;" slot="startIcon">
                </span>
          </oj-button>
        </template>
      </oj-table>
    </div>
  </div>

  <oj-dialog dialog-title="" id="loadingDialog" class="myloader" style="width: 350px">
    <div slot="body">
      <div class="oj-flex-item">
        <span style="font-size:20px;color:#006AA2;font-weight:600;margin-top:-2vh">Loading .....</span>
        <br />
        <oj-progress-bar value="-1" class="oj-sm-margin-3x-top"></oj-progress-bar>
      </div>
    </div>
  </oj-dialog>
  <oj-dialog id="time-entry-dialog" style="width:60%;">

    <br>
    <div slot="body">
      <oj-form-layout columns="5" max-columns="5" label-edge="top">
        <oj-select-single label-hint="Resource Name" data="[[$variables.getCrewRiteCrewResourcesListSDP]]"
          item-text="resource_name" on-value-item-changed="[[$listeners.selectValueItem8]]"
          value="{{ $variables.timeEntryDialogobj.resource_name }}">
        </oj-select-single>
        <oj-input-text label-hint="Emp Number" readonly="true"
          value="{{ $variables.timeEntryDialogobj.resource_number }}"></oj-input-text>
        <!-- <oj-select-single label-hint="Job" value="{{ $variables.timeEntryDialogobj.resource_role }}">
      </oj-select-single> -->
        <oj-input-text label-hint="Job" value="{{ $variables.timeEntryDialogobj.resource_role }}" readonly="true">
        </oj-input-text>
        <oj-select-single label-hint="Combination Name" value="{{ $variables.timeEntryDialogobj.combination_name }}"
          data="[[$variables.getCrewRiteTimeEntryCombinationsListSDP]]" item-text="combination_name">
        </oj-select-single>
        <oj-select-single label-hint="Project" value="{{ $variables.timeEntryDialogobj.project_name }}"
          data="[[$variables.getCrewRiteProjectSearch2ListSDP2]]" item-text="project_name"
          on-value-item-changed="[[$listeners.selectValueItem9]]">
        </oj-select-single>
        <oj-select-single label-hint="Task" value="{{ $variables.timeEntryDialogobj.task_name }}"
          data="[[$variables.getProjectIdChildTasksListSDP]]" item-text="TaskName"
          on-value-item-changed="[[$listeners.selectValueItem10]]">
        </oj-select-single>
        <!-- <oj-select-single label-hint="Shift" value="{{ $variables.timeEntryDialogobj.shift }}">
      </oj-select-single> -->
        <oj-input-text label-hint="Shift" value="{{ $variables.timeEntryDialogobj.shift }}">
        </oj-input-text>
        <oj-input-text label-hint="Location/Tax Jurisdiction" value="{{ $variables.timeEntryDialogobj.emp_location }}">
        </oj-input-text>
        <oj-input-text label-hint="Work Package" value="{{ $variables.timeEntryDialogobj.work_package }}">
        </oj-input-text>
        <oj-select-single label-hint="Department" value="{{ $variables.timeEntryDialogobj.department }}"
          data="[[$variables.getCrewRiteDepartmentDetailsListSDP]]" item-text="department">
        </oj-select-single>
        <oj-input-text label-hint="Cost Category" value="{{ $variables.timeEntryDialogobj.cost_center }}">
        </oj-input-text>
        <oj-input-text label-hint="Craft Override" value="{{ $variables.timeEntryDialogobj.craft_override }}">
        </oj-input-text>
        <oj-select-single label-hint="Time Type" value="{{ $variables.timeEntryDialogobj.time_type }}"
          data="[[$variables.getCrewRiteTimeTypesListSDP]]" item-text="time_type_name">
        </oj-select-single>
        <oj-input-text label-hint="Hours" value="{{ $variables.timeEntryDialogobj.total_hours }}">
        </oj-input-text>
        <oj-input-text label-hint="Milage" value="{{ $variables.timeEntryDialogobj.milage }}">
        </oj-input-text>
        <oj-input-text label-hint="PerDiem" value="{{ $variables.timeEntryDialogobj.per_diem_amount }}">
        </oj-input-text>
        <oj-input-text label-hint="Mobilization" value="{{ $variables.timeEntryDialogobj.mobilization }}">
        </oj-input-text>
        <oj-input-text label-hint="DeMobilization" value="{{ $variables.timeEntryDialogobj.demobilization }}">
        </oj-input-text>
      </oj-form-layout>
    </div>
    <div slot="footer">
      <oj-bind-if test="[[ !$variables.isEdit ]]">
        <oj-button label="Create & New" chroming="callToAction" class="oj-button-sm"
          on-oj-action="[[$listeners.buttonAction13]]">
        </oj-button>
        <oj-button label="Create" chroming="callToAction" class="oj-button-sm"
          on-oj-action="[[$listeners.buttonAction12]]">
          <span class="oj-ux-ico-save" slot="startIcon"></span>
        </oj-button>
      </oj-bind-if>
<oj-button label="Update" chroming="callToAction" class="oj-button-sm" on-oj-action="[[$listeners.buttonAction18]]">
</oj-button>
      <oj-bind-if test="[[ $variables.isEdit ]]">
      </oj-bind-if>

      <oj-button label="Close" chroming="callToAction" class="oj-button-sm"
        on-oj-action="[[$listeners.buttonAction11]]">
        <span class="oj-ux-ico-logout" slot="endIcon"></span>
      </oj-button>
    </div>
  </oj-dialog>
</oj-sp-welcome-page>
<oj-dialog dialog-title="Resource Mapping" id="oj-dialog-Combination-Resource-Mapping">
  <div slot="body">
    <div class="oj-flex">
      <h6>Combination Resource Mapping</h6>
      <oj-table scroll-policy="loadMoreOnScroll" class="oj-flex-item oj-sm-12 oj-md-12"
        data="[[ $variables.resourceTableADP ]]" selection-mode.row="multiple"
        columns='[{"headerText":"Resource Name","field":"resource_name"},{"headerText":"Resource Number","field":"resource_number"},{"headerText":"Resource Type","field":"resource_type"},{"headerText":"Resource Role","field":"resource_role"}]'
        on-selected-changed="[[$listeners.tableSelected]]" id="resource-mapping-popup"></oj-table>
    </div>
  </div>
  <div slot="footer">
    <oj-button on-oj-action="[[$listeners.buttonAction5]]" chroming="callToAction" class="oj-button-sm">Assign</oj-button>
    <oj-button on-oj-action="[[$listeners.buttonAction4]]" chroming="callToAction" class="oj-button-sm">Cancel</oj-button>
  </div>
</oj-dialog>
<oj-dialog dialog-title="Delete Confirmation Popup" id="oj-dialog-delete-confirm">
  <div slot="body">
    <div class="oj-flex" style="margin-top: 15px;">
      <h6>Are you Sure you want to Delete this Combination ?</h6>
    </div>
  </div>
  <div slot="footer">
    <oj-button on-oj-action="[[$listeners.buttonAction7]]">Delete</oj-button>
    <oj-button on-oj-action="[[$listeners.buttonAction6]]">Cancel</oj-button>
  </div>
</oj-dialog>
<oj-dialog id="customDialog" style="width: 70vw; max-height:75vh;">
  <div slot="body">
    <div class="oj-flex-item oj-sm-margin-5x-top">
      <span style="font-size:18px;font-weight:500"><oj-bind-text value="Custom Time Entry"></oj-bind-text></span>
    </div>
    <oj-validation-group id="timeEntryGroup">
      <oj-form-layout class="oj-formlayout-full-width" max-columns="5" label-edge="top" columns="5">
        <oj-select-single value="{{ $variables.timeEntriesCustomObj.project_name }}" item-text="name"
          on-value-item-changed="[[$listeners.selectValueItem6]]" data="[[ $variables.fetchProjectSDP ]]"
          label-hint="Project Name"></oj-select-single>
        <oj-select-single label-hint="Task Name" value="{{ $variables.timeEntriesCustomObj.task_name }}"
          data="[[ $variables.tasksProjectSDP ]]" item-text="TaskName"
          on-value-item-changed="[[$listeners.selectValueItem7]]"></oj-select-single>
        <oj-input-text label-hint="Shift" value="{{ $variables.timeEntriesCustomObj.shift }}"></oj-input-text>
        <oj-input-text label-hint="Location" value="{{ $variables.timeEntriesCustomObj.emp_location }}">
        </oj-input-text>
        <oj-input-text label-hint="Work Location" value="{{ $variables.timeEntriesCustomObj.work_package }}">
        </oj-input-text>
        <oj-select-single value="{{ $variables.timeEntriesCustomObj.department }}" item-text="department"
          data="[[ $variables.getCombinationDepartmentSDP ]]" label-hint="Department"></oj-select-single>
        <oj-input-text label-hint="Cost Category" value="{{ $variables.timeEntriesCustomObj.cost_center }}">
        </oj-input-text>
        <oj-input-text label-hint="Craft Override" value="{{ $variables.timeEntriesCustomObj.craft_override }}">
        </oj-input-text>
        <oj-select-single value="{{ $variables.timeEntriesCustomObj.time_type }}" item-text="time_type_name"
          data="[[ $variables.getCombinationTimeTypeSDP ]]" label-hint="Time Type"></oj-select-single>
        <oj-input-text label-hint="Total Hours" value="{{ $variables.timeEntriesCustomObj.total_hours }}">
        </oj-input-text>
        <oj-input-text label-hint="Mileage" value="{{ $variables.timeEntriesCustomObj.milage }}"></oj-input-text>
        <oj-input-text label-hint="Per Diem Amount" value="{{ $variables.timeEntriesCustomObj.per_diem_amount }}">
        </oj-input-text>
        <oj-input-text label-hint="Mobilization" value="{{ $variables.timeEntriesCustomObj.mobilization }}">
        </oj-input-text>
        <oj-input-text label-hint="Demobilization" value="{{ $variables.timeEntriesCustomObj.demobilization }}">
        </oj-input-text>
      </oj-form-layout>
    </oj-validation-group>

    <div class="oj-flex-item oj-sm-margin-2x-top">
      <oj-toolbar chroming="borderless">
        <oj-button label="Save" chroming="callToAction" class="oj-button-sm"
          on-oj-action="[[$listeners.buttonAction9]]"></oj-button>
        <oj-button label="Cancel" chroming="callToAction" class="oj-button-sm"
          on-oj-action="[[$listeners.buttonAction10]]"></oj-button>
      </oj-toolbar>
    </div>
  </div>
</oj-dialog>